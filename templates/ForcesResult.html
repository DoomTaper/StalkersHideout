{% extends base.html %}

{% block content %}
<div class="panel panel-danger">
  <div class="panel-heading">
    <h3 class="panel-title" id="h_name">{{ name }}<button type="button" class="close" id="add">+</button></h3>
  </div>
  <div class="panel-body">
<ul class="nav nav-tabs">
  <li class="active"><a href="#home" data-toggle="tab" aria-expanded="true">Practice Problems</a></li>
  <li class=""><a href="#profile" data-toggle="tab" aria-expanded="false">Challenge Problems</a></li>
</ul>
<div id="myTabContent" class="tab-content">
  	<div class="tab-pane fade active in" id="home">
		{% for prob in p_prob %}
    		<p><a href=#>{{ prob['name'] }}</a></p>
		{% end %}
  	</div>
  	<div class="tab-pane fade" id="profile">
    		<p><div class="page-header" id="banner">
        		<div class="row5">
				{% for item in c_prob %}
				<p>Done {{ item['name'] }} and got {{ item['actual_points'] }} out of {{ item['total_points'] }}</p>
				{% end %}
			</div>
		</div></p>
  	</div>
</div>
</div>
</div>
{% end %}
{% block script %}
$(document).ready(function() {
        $('#add').click(function(){
        var jo = $($("#h_name").contents()[0]).text(); {% comment http://stackoverflow.com/questions/3442394/jquery-using-text-to-retrieve-only-text-not-nested-in-child-tags %}
        $.post("http://127.0.0.1:8888/db/add", {name:jo, referrer:"codeforces"}, function(data, status){
            alert(status);
        });
        });

  });
{% end %}
